<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 

"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.chinasofti.ssm.dao.GoodDao">
	<select id="getTypeByTypeId" parameterType="String" resultType="com.chinasofti.ssm.domain.Type">
		select *
		from types
		where TypeId=#{TypeId}
	</select>

	<select id="getProviderByProviderId" parameterType="String" resultType="com.chinasofti.ssm.domain.Provider">
		select *
		from providers
		where ProviderId=#{ProviderId} and DeleteStatus = 1
	</select>

	<resultMap id="GoodResultMap" type="com.chinasofti.ssm.domain.Good" autoMapping="true">
		<association property="type" column="TypeId" select="getTypeByTypeId"></association>
		<association property="provider" column="ProviderId" select="getProviderByProviderId"></association>
	</resultMap>

	<select id="findById" parameterType="int" resultMap="GoodResultMap">
		select *
		from goods
		where Id = #{Id} and DeleteStatus = 1
	</select>
	<select id="findAll" resultMap="GoodResultMap">
		select * 
		from goods
		where DeleteStatus = 1
	</select>
	<select id="findByName" resultMap="GoodResultMap">
		select *
		from goods
		where GoodName = #{GoodName}
	</select>
	<select id="findByPrice" resultMap="GoodResultMap">
		select *
		from goods
		where GoodPrice = #{GoodPrice}
	</select>
	<select id="findByType" resultMap="GoodResultMap">
		select *
		from goods
		where TypeId = #{TypeId}
	</select>
	<select id="findByProvider" resultMap="GoodResultMap">
		select *
		from goods
		where ProviderId = #{ProviderId}
	</select>
	<select id="findByGoodId" resultMap="GoodResultMap">
		select *
		from goods
		where GoodId = #{GoodId}
	</select>
	<insert id="insert" parameterType="com.chinasofti.ssm.domain.Good">
		insert into goods(Id,GoodId,GoodName,) values (#{})
	</insert>
</mapper>